{"ast":null,"code":"var WebSocket = require('ws'),\n    BaseConnection = require('./base');\n\nvar NodeConnection = module.exports = function (opts) {\n  BaseConnection.call(this, opts);\n  var connection = this;\n  this.on('ready', function () {\n    connection.reportFocus(true);\n  });\n};\n\nObject.assign(NodeConnection.prototype, BaseConnection.prototype);\nNodeConnection.__proto__ = BaseConnection;\n\nNodeConnection.prototype.setupSocket = function () {\n  var connection = this;\n  var socket = new WebSocket(this.getUrl());\n  socket.on('open', function () {\n    connection.handleOpen();\n  });\n  socket.on('message', function (m) {\n    connection.handleData(m);\n  });\n  socket.on('close', function (code, reason) {\n    connection.handleClose(code, reason);\n  });\n  socket.on('error', function () {\n    connection.startReconnection();\n  });\n  return socket;\n};","map":{"version":3,"sources":["/Users/stevdiaz/Desktop/MIT SPRING 2021/6835/6835Final/pic/node_modules/leapjs/lib/connection/node.js"],"names":["WebSocket","require","BaseConnection","NodeConnection","module","exports","opts","call","connection","on","reportFocus","Object","assign","prototype","__proto__","setupSocket","socket","getUrl","handleOpen","m","handleData","code","reason","handleClose","startReconnection"],"mappings":"AAAA,IAAIA,SAAS,GAAGC,OAAO,CAAC,IAAD,CAAvB;AAAA,IACIC,cAAc,GAAGD,OAAO,CAAC,QAAD,CAD5B;;AAGA,IAAIE,cAAc,GAAGC,MAAM,CAACC,OAAP,GAAiB,UAASC,IAAT,EAAe;AACnDJ,EAAAA,cAAc,CAACK,IAAf,CAAoB,IAApB,EAA0BD,IAA1B;AACA,MAAIE,UAAU,GAAG,IAAjB;AACA,OAAKC,EAAL,CAAQ,OAAR,EAAiB,YAAW;AAAED,IAAAA,UAAU,CAACE,WAAX,CAAuB,IAAvB;AAA+B,GAA7D;AACD,CAJD;;AAMAC,MAAM,CAACC,MAAP,CAAcT,cAAc,CAACU,SAA7B,EAAwCX,cAAc,CAACW,SAAvD;AAEAV,cAAc,CAACW,SAAf,GAA2BZ,cAA3B;;AAEAC,cAAc,CAACU,SAAf,CAAyBE,WAAzB,GAAuC,YAAW;AAChD,MAAIP,UAAU,GAAG,IAAjB;AACA,MAAIQ,MAAM,GAAG,IAAIhB,SAAJ,CAAc,KAAKiB,MAAL,EAAd,CAAb;AACAD,EAAAA,MAAM,CAACP,EAAP,CAAU,MAAV,EAAkB,YAAW;AAAED,IAAAA,UAAU,CAACU,UAAX;AAA0B,GAAzD;AACAF,EAAAA,MAAM,CAACP,EAAP,CAAU,SAAV,EAAqB,UAASU,CAAT,EAAY;AAAEX,IAAAA,UAAU,CAACY,UAAX,CAAsBD,CAAtB;AAA2B,GAA9D;AACAH,EAAAA,MAAM,CAACP,EAAP,CAAU,OAAV,EAAmB,UAASY,IAAT,EAAeC,MAAf,EAAuB;AAAEd,IAAAA,UAAU,CAACe,WAAX,CAAuBF,IAAvB,EAA6BC,MAA7B;AAAuC,GAAnF;AACAN,EAAAA,MAAM,CAACP,EAAP,CAAU,OAAV,EAAmB,YAAW;AAAED,IAAAA,UAAU,CAACgB,iBAAX;AAAiC,GAAjE;AACA,SAAOR,MAAP;AACD,CARD","sourcesContent":["var WebSocket = require('ws')\n  , BaseConnection = require('./base');\n\nvar NodeConnection = module.exports = function(opts) {\n  BaseConnection.call(this, opts);\n  var connection = this;\n  this.on('ready', function() { connection.reportFocus(true); });\n}\n\nObject.assign(NodeConnection.prototype, BaseConnection.prototype);\n\nNodeConnection.__proto__ = BaseConnection;\n\nNodeConnection.prototype.setupSocket = function() {\n  var connection = this;\n  var socket = new WebSocket(this.getUrl());\n  socket.on('open', function() { connection.handleOpen(); });\n  socket.on('message', function(m) { connection.handleData(m); });\n  socket.on('close', function(code, reason) { connection.handleClose(code, reason); });\n  socket.on('error', function() { connection.startReconnection(); });\n  return socket;\n}\n"]},"metadata":{},"sourceType":"script"}